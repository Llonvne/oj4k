package cn.llonvne.api.user

import org.junit.jupiter.api.Test

class UserTokenTest {

    @Test
    fun testReadAndWrite() {
//        val user = userEntityService.database.runQuery {
//            QueryDsl.from(e).where {
//                e.id eq 1
//            }.single()
//        }
//
//        user.tokenRaw shouldBe Json.encodeToString<Token>(Token.NoToken)
//        user.token shouldBe Token.NoToken
//
//        val userToken = Token.UserToken("123456")
//        val updatedUser = user.token(userToken)
//
//        user.token shouldBe Token.UserToken("123456")
//
//        userEntityService.database.runQuery {
//            QueryDsl.update(e).single(user)
//        }
//
//        val updatedUser = userEntityService.database.runQuery {
//            QueryDsl.from(e).where {
//                e.id eq 1
//            }.single()
//        }
//
//        updatedUser.token shouldBe userToken
    }
}